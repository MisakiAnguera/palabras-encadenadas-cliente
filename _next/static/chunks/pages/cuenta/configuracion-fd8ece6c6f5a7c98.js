(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{8722:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/configuracion",function(){return a(7407)}])},2371:function(e,n,a){"use strict";a.d(n,{Z:function(){return d}});var r=a(5893),t=a(9008),i=a.n(t),l=a(6154),o=a(7294),s=a(9004);function c(e){let{pagina:n}=e,[a,t]=(0,o.useState)(!1),[i,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("");function h(e){sessionStorage.clear(),e&&(window.location.href="/")}return(0,o.useEffect)(()=>{document.onkeydown=function(e){"Enter"===e.key&&document.activeElement.click()};let e=sessionStorage.getItem("token");null==e?h():l.Z.get("https://palabras-encadenadas.lemonsky-242d790f.westeurope.azurecontainerapps.io/usuario",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{u(e.data.apodo),c(sessionStorage.getItem("rol"))}).catch(e=>{h(!0)})},[]),(0,r.jsxs)(s.wp,{color:"primary",active:a,children:[(0,r.jsxs)(s.wp.Brand,{alignItems:"center",children:[(0,r.jsxs)(s.wp.Item,{className:"title is-5",mb:"0",renderAs:"a",href:"/",textAlign:"center",touch:{textAlign:"left"},children:["palabras con 漢字 ",(0,r.jsx)("br",{}),"encadenadas"]}),(0,r.jsx)(s.wp.Burger,{onClick:()=>t(!a)})]}),(0,r.jsxs)(s.wp.Menu,{alignItems:"stretch",children:[(0,r.jsxs)(s.wp.Container,{children:[(0,r.jsx)(s.wp.Item,{href:"/",children:"Inicio"}),d&&(0,r.jsx)(s.wp.Item,{active:"jugar"==n,href:"/jugar",children:"Jugar"}),"ADMINISTRADOR"==i&&(0,r.jsx)(s.wp.Item,{active:"administrar"==n,href:"/administrar",children:"Administrar"})]}),!d&&(0,r.jsx)(s.wp.Container,{align:"right",children:(0,r.jsxs)(s.wp.Item,{arrowless:!0,href:"#",hoverable:!0,children:[(0,r.jsx)(s.wp.Link,{arrowless:!0,children:"Identif\xedcate"}),(0,r.jsxs)(s.wp.Dropdown,{right:!0,children:[(0,r.jsx)(s.wp.Item,{href:"/cuenta/registro",textColor:"primary",children:(0,r.jsx)("strong",{children:"Registrarse"})}),(0,r.jsx)(s.wp.Divider,{}),(0,r.jsx)(s.wp.Item,{href:"/cuenta/inicio-sesion",textColor:"primary",children:"Iniciar sesi\xf3n"})]})]})}),d&&(0,r.jsx)(s.wp.Container,{align:"right",children:(0,r.jsxs)(s.wp.Item,{arrowless:!0,href:"#",hoverable:!0,children:[(0,r.jsx)(s.wp.Link,{arrowless:!0,children:(0,r.jsxs)(s.JO.Text,{children:[(0,r.jsx)(s.JO,{children:(0,r.jsx)("i",{className:"material-symbols-outlined",children:"account_circle"})}),(0,r.jsx)("span",{children:d})]})}),(0,r.jsxs)(s.wp.Dropdown,{right:!0,children:[(0,r.jsx)(s.wp.Item,{href:"/cuenta/configuracion",textColor:"primary",children:(0,r.jsxs)(s.JO.Text,{flexWrap:"nowrap",children:[(0,r.jsx)(s.JO,{children:(0,r.jsx)("i",{className:"material-symbols-outlined",children:"manage_accounts"})}),(0,r.jsx)("span",{children:"Configuraci\xf3n"})]})}),(0,r.jsx)(s.wp.Divider,{}),(0,r.jsx)(s.wp.Item,{href:"#",onClick:h,textColor:"primary",children:(0,r.jsx)("strong",{children:"Cerrar sesi\xf3n"})})]})]})})]})]})}function d(e){let{children:n,pagina:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"palabras con 漢字 encadenadas"})}),(0,r.jsx)(c,{pagina:a}),(0,r.jsx)("main",{children:n})]})}},7407:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return s}});var r=a(5893),t=a(6154),i=a(7294),l=a(9004),o=a(2371);function s(){let[e,n]=(0,i.useState)("perfil"),[a,s]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[x,p]=(0,i.useState)(""),[f,j]=(0,i.useState)([!1,!1,!0,!0]),[m,g]=(0,i.useState)([,,,,].fill(!1)),[w,C]=(0,i.useState)(),[v,b]=(0,i.useState)("");function I(e,n){let a=f.slice();a[e]=!n.checkValidity()||n.value.length>n.maxLength&&n.maxLength>0||n.value.length<n.minLength&&n.minLength>0,j(a)}return(0,i.useEffect)(()=>{let e=sessionStorage.getItem("token");null==e&&(window.location.href="/"),t.Z.get("https://palabras-encadenadas.lemonsky-242d790f.westeurope.azurecontainerapps.io/usuario",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{s(e.data.apodo),d(e.data.fechaNacimiento)}).catch(()=>{sessionStorage.clear(),window.location.href="/"})},[]),(0,r.jsx)(o.Z,{children:(0,r.jsx)(l.W2,{children:(0,r.jsxs)(l.$0,{children:[(0,r.jsx)(l.X6,{children:"Configuraci\xf3n de la cuenta"}),(0,r.jsxs)(l.mQ,{children:[(0,r.jsx)(l.mQ.Tab,{active:"perfil"==e,onClick:function(){n("perfil")},children:"Editar perfil"}),(0,r.jsx)(l.mQ.Tab,{active:"contrasena"==e,onClick:function(){n("contrasena")},children:"Cambiar contrase\xf1a"}),(0,r.jsx)(l.mQ.Tab,{active:"eliminar"==e,onClick:function(){n("eliminar")},children:"Eliminar cuenta"})]}),"perfil"==e&&(0,r.jsxs)(l.xu,{children:[(0,r.jsx)(l.X6,{subtitle:!0,children:"Edita tu perfil"}),(0,r.jsxs)("form",{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),f.slice(0,2).every(e=>!1===e)){let e=sessionStorage.getItem("token");t.Z.put("https://palabras-encadenadas.lemonsky-242d790f.westeurope.azurecontainerapps.io/usuario/edici\xf3n-perfil",{apodo:a,fechaNacimiento:c},{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){alert(e.data),window.location.href="/cuenta/configuracion"}).catch(function(e){alert("Error: no se ha podido modificar el perfil.")})}else{let e=m.slice();e[0]=f[0],e[1]=f[1],g(e)}},children:[(0,r.jsxs)(l.l0.Field,{textColor:m[0]&&"danger",children:[(0,r.jsx)(l.l0.Label,{htmlFor:"apodo",children:"Apodo"}),(0,r.jsx)(l.l0.Control,{children:(0,r.jsx)(l.l0.Input,{color:m[0]&&"danger",value:a,onChange:function(e){s(e.target.value),I(0,e.target)},id:"apodo",type:"text",minLength:"3",maxLength:"20",placeholder:"Apodo",required:!0})}),(0,r.jsx)(l.l0.Help,{children:"Introduce tu apodo de entre 3 y 20 caracteres."})]}),(0,r.jsxs)(l.l0.Field,{textColor:m[1]&&"danger",children:[(0,r.jsx)(l.l0.Label,{htmlFor:"fechaNacimiento",children:"Fecha de nacimiento"}),(0,r.jsx)(l.l0.Control,{children:(0,r.jsx)(l.l0.Input,{color:m[1]&&"danger",value:c,onChange:function(e){d(e.target.value),I(1,e.target)},id:"fechaNacimiento",required:!0,type:"date",placeholder:"Fecha de nacimiento"})}),(0,r.jsx)(l.l0.Help,{children:"Introduce tu fecha de nacimiento."})]}),(0,r.jsx)(l.l0.Field,{children:(0,r.jsx)(l.l0.Control,{textAlign:"center",children:(0,r.jsx)(l.zx,{color:"primary",outlined:!0,children:"Guardar perfil"})})})]})]}),"contrasena"==e&&(0,r.jsxs)(l.xu,{children:[(0,r.jsx)(l.X6,{subtitle:!0,children:"Cambia tu contrase\xf1a"}),(0,r.jsxs)("form",{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),f.slice(2,4).every(e=>!1===e)){let e=sessionStorage.getItem("token");t.Z.put("https://palabras-encadenadas.lemonsky-242d790f.westeurope.azurecontainerapps.io/usuario/cambio-contrase\xf1a",{contrasenaVieja:x,contrasenaNueva:u},{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){let n=m.slice();n[2]=f[2],n[3]=f[3],g(n),alert(e.data),p(""),h("");let a=f.slice();a[2]=!0,a[3]=!0,j(a)}).catch(function(e){alert("Error: no se ha podido modificar la contrase\xf1a. Verifica la contrase\xf1a actual.")})}else{let e=m.slice();e[2]=f[2],e[3]=f[3],g(e)}},children:[(0,r.jsxs)(l.l0.Field,{textColor:m[2]&&"danger",children:[(0,r.jsx)(l.l0.Label,{htmlFor:"contrasenaNueva",children:"Contrase\xf1a nueva"}),(0,r.jsx)(l.l0.Control,{children:(0,r.jsx)(l.l0.Input,{color:m[2]&&"danger",value:u,onChange:function(e){h(e.target.value),I(2,e.target)},type:"password",id:"contrasenaNueva",required:!0,minLength:"10",placeholder:"Contrase\xf1a nueva"})}),(0,r.jsx)(l.l0.Help,{children:"Introduce tu nueva contrase\xf1a de m\xednimo 10 caracteres."})]}),(0,r.jsxs)(l.l0.Field,{textColor:m[3]&&"danger",children:[(0,r.jsx)(l.l0.Label,{htmlFor:"contrasenaActual",children:"Contrase\xf1a actual"}),(0,r.jsx)(l.l0.Control,{children:(0,r.jsx)(l.l0.Input,{color:m[3]&&"danger",value:x,onChange:function(e){p(e.target.value),I(3,e.target)},type:"password",id:"contrasenaActual",required:!0,minLength:"10",placeholder:"Contrase\xf1a actual"})}),(0,r.jsx)(l.l0.Help,{children:"Introduce tu contrase\xf1a actual para confirmar el cambio de contrase\xf1a."})]}),(0,r.jsx)(l.l0.Field,{children:(0,r.jsx)(l.l0.Control,{textAlign:"center",children:(0,r.jsx)(l.zx,{color:"primary",outlined:!0,children:"Guardar contrase\xf1a"})})})]})]}),"eliminar"==e&&(0,r.jsxs)(l.xu,{children:[(0,r.jsx)(l.X6,{subtitle:!0,children:"Elimina tu cuenta"}),(0,r.jsx)(l.v0,{color:"danger",children:(0,r.jsx)(l.v0.Body,{children:"Esta acci\xf3n es irrevocable. Eliminar\xe1 permanentemente la cuenta y todos los datos asociados a la misma, incluidas todas las listas de palabras con 漢字."})}),(0,r.jsx)(l.zx.Group,{align:"center",children:(0,r.jsx)(l.zx,{color:"danger",outlined:!0,onClick:()=>{C("card")},children:"Eliminar cuenta"})}),(0,r.jsx)(l.u_,{show:"card"===w,onClose:()=>{C(),b("")},children:(0,r.jsxs)(l.u_.Card,{children:[(0,r.jsx)(l.u_.Card.Header,{showClose:!0,children:(0,r.jsx)(l.u_.Card.Title,{children:"Eliminar cuenta"})}),(0,r.jsx)(l.u_.Card.Body,{children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();{let e=sessionStorage.getItem("token");t.Z.delete("https://palabras-encadenadas.lemonsky-242d790f.westeurope.azurecontainerapps.io/usuario/",{data:{contrasena:v},headers:{Authorization:"Bearer ".concat(e)}}).then(function(){sessionStorage.clear(),window.location.href="/"}).catch(function(e){alert(e.response.data.message)})}},children:[(0,r.jsxs)(l.l0.Field,{children:[(0,r.jsx)(l.l0.Label,{htmlFor:"contrasena",children:"Escribe tu contrase\xf1a"}),(0,r.jsx)(l.l0.Control,{children:(0,r.jsx)(l.l0.Input,{value:v,type:"password",id:"contrasena",placeholder:"Contrase\xf1a",onChange:function(e){b(e.target.value)}})}),(0,r.jsx)(l.l0.Help,{children:"Introduce tu contrase\xf1a para confirmar la eliminaci\xf3n de tu cuenta."})]}),(0,r.jsx)(l.l0.Field,{children:(0,r.jsx)(l.l0.Control,{textAlign:"center",children:(0,r.jsx)(l.zx,{color:"danger",outlined:!0,children:"Eliminar cuenta"})})})]})}),(0,r.jsx)(l.u_.Card.Footer,{renderAs:l.zx.Group,align:"center",children:(0,r.jsx)(l.zx,{color:"warning",onClick:()=>{C(),b("")},children:"Cancelar"})})]})})]})]})})})}}},function(e){e.O(0,[4,237,774,888,179],function(){return e(e.s=8722)}),_N_E=e.O()}]);